(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),i=n(20),s=n.n(i),o=n(8),u=(n(28),n(17)),j=n(3),l=n(21),b=a.a.createContext(),d=Object(l.a)("563492ad6f91700001000001068dd1d344c748c18d09a44c6b2b840e"),O=function(e){var t=e.children,n=Object(r.useState)({query:"Nature",per_page:40,page:1}),a=Object(j.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)([]),l=Object(j.a)(o,2),O=l[0],h=l[1],f=Object(r.useState)([]),x=Object(j.a)(f,2),m=x[0],p=x[1],v=Object(r.useState)([]),g=Object(j.a)(v,2),C=g[0],N=g[1],P=Object(r.useState)({perPage:40,page:1,totalResults:10}),y=Object(j.a)(P,2),S=y[0],k=y[1];return Object(r.useEffect)((function(){d.photos.search(i).then((function(e){h(e.photos);var t=e.page,n=e.per_page,c=e.total_results;k({currentPage:t,perPage:n,totalResults:c})}))}),[i]),Object(c.jsx)(b.Provider,{value:{allPhotos:O,cartItems:m,addToCart:function(e){p((function(t){return[].concat(Object(u.a)(t),[e])}))},removeFromCart:function(e){p((function(t){return t.filter((function(t){return t.id!==e}))}))},emptyCart:function(){p([])},favoritePhotos:C,addToFavorite:function(e){N((function(t){return[].concat(Object(u.a)(t),[e])}))},removeFromFav:function(e){N((function(t){return t.filter((function(t){return t.id!==e}))}))},requestConfig:i,setRequestConfig:s,paginationReleted:S},children:t})},h=n(2);var f=function(){var e=Object(r.useContext)(b).cartItems.length>0?"ri-shopping-cart-fill":"ri-shopping-cart-line";return Object(c.jsxs)("header",{children:[Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("h2",{className:"logo",children:"PicSome"})}),Object(c.jsx)(o.b,{to:"/cart",children:Object(c.jsx)("i",{className:"".concat(e," ri-fw ri-2x")})}),Object(c.jsx)(o.b,{to:"/favorite",children:Object(c.jsx)("i",{className:"ri-heart-line fav-page"})})]})};var x=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useRef)(null);function i(){c(!0)}function s(){c(!1)}return Object(r.useEffect)((function(){a.current.addEventListener("mouseenter",i),a.current.addEventListener("mouseleave",s)}),[]),[n,a]};var m=function(e){var t=e.item,n=x(),a=Object(j.a)(n,2),i=a[0],s=a[1],o=Object(r.useContext)(b).removeFromCart,u=i?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(c.jsxs)("div",{className:"cart-item",children:[Object(c.jsx)("i",{className:u,onClick:function(){return o(t.id)},ref:s}),Object(c.jsx)("img",{src:t.src.tiny,width:"130px"}),Object(c.jsx)("p",{children:"$5.99"})]})};var p=function(){var e=Object(r.useState)("Place Order"),t=Object(j.a)(e,2),n=t[0],a=t[1],i=Object(r.useContext)(b),s=i.cartItems,o=i.emptyCart,u=(5.99*s.length).toLocaleString("en-US",{style:"currency",currency:"USD"}),l=s.map((function(e){return Object(c.jsx)(m,{item:e},e.id)}));return Object(c.jsxs)("main",{className:"cart-page",children:[Object(c.jsx)("h1",{children:"SHOPPING BAG"}),l,s.length>0&&Object(c.jsxs)("p",{className:"total-cost",children:["Total: ",u]}),s.length>0?Object(c.jsx)("div",{className:"order-button",children:Object(c.jsx)("button",{onClick:function(){a("Ordering..."),setTimeout((function(){console.log("Order placed!"),a("Place Order"),o()}),3e3)},children:n})}):Object(c.jsx)("p",{children:"You have no items in your cart."})]})};var v=function(e){var t=e.photo,n=x(),a=Object(j.a)(n,2),i=a[0],s=a[1],o=Object(r.useContext)(b).removeFromFav,u=i?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(c.jsxs)("div",{className:"cart-item",children:[Object(c.jsx)("i",{className:u,onClick:function(){return o(t.id)},ref:s}),Object(c.jsx)("img",{src:t.src.tiny,width:"130px"})]})};var g=function(){var e=Object(r.useContext)(b).favoritePhotos,t=e.map((function(e){return Object(c.jsx)(v,{photo:e},e.id)}));return Object(c.jsxs)("div",{className:"cart-page",children:[Object(c.jsx)("h1",{children:"MY LIST"}),0===e.length?Object(c.jsx)("p",{children:"Add photos to your list and share them with whoever you like. "}):null,t]})},C=n(18);var N=function(e){var t=e.photo,n=e.className,a=x(),i=Object(j.a)(a,2),s=i[0],o=i[1],u=Object(r.useContext)(b),l=u.addToCart,d=u.cartItems,O=u.removeFromCart,h=u.favoritePhotos,f=u.addToFavorite,m=u.removeFromFav;return Object(c.jsxs)("div",{className:"".concat(n," image-container"),ref:o,children:[Object(c.jsx)("img",{src:t.src.tiny,className:"image-grid"}),h.some((function(e){return e.id===t.id}))?Object(c.jsx)("i",{className:"ri-heart-fill favorite",onClick:function(){return m(t.id)}}):s?Object(c.jsx)("i",{className:"ri-heart-line favorite",onClick:function(){return f(t)}}):void 0,d.some((function(e){return e.id===t.id}))?Object(c.jsx)("i",{className:"ri-shopping-cart-fill cart",onClick:function(){return O(t.id)}}):s?Object(c.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){return l(t)}}):void 0]})};function P(e){return e%5===0?"big":e%6===0?"wide":void 0}var y=function(e){var t=e.photos,n=t.map((function(e,t){return Object(c.jsx)(N,{photo:e,className:P(t)},e.id)}));return Object(c.jsxs)("main",{className:"photos",children:[!t.length&&Object(c.jsx)("p",{children:"No results found"}),n]})};var S=function(e){var t=e.changePage,n=Object(r.useContext)(b).paginationReleted,a=n.currentPage,i=n.perPage,s=n.totalResults;return Object(c.jsxs)("div",{className:"pagination-container",children:[1!==a&&Object(c.jsx)("button",{className:"button-hover",onClick:function(){return t("previous")},children:"Previous"}),1!==a&&Object(c.jsx)("button",{disabled:!0,children:a-1}),Object(c.jsx)("button",{disabled:!0,className:"current-page",children:a}),Object(c.jsx)("button",{disabled:!0,children:a+1}),Object(c.jsxs)("p",{children:["...",Math.floor(s/i-a)]}),Object(c.jsx)("button",{className:"button-hover",onClick:function(){return t("next")},children:"Next"})]})};var k=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),s=Object(j.a)(i,2),o=s[0],u=s[1],l=Object(r.useContext)(b),d=l.allPhotos,O=l.requestConfig,h=l.setRequestConfig;return Object(c.jsxs)("main",{className:"home-container",children:[Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("input",{placeholder:"Write a theme",type:"text",onChange:function(e){return a(e.currentTarget.value)}}),Object(c.jsx)("input",{placeholder:"Write a number",max:50,type:"number",onChange:function(e){return u(e.currentTarget.value)}}),Object(c.jsx)("button",{className:"button-hover",disabled:!n.length,onClick:function(){return h({page:1,query:n,per_page:o})},children:"Search"})]}),Object(c.jsx)(y,{photos:d}),0!==d.length&&Object(c.jsx)(S,{changePage:function(e){var t="next"===e?O.page+1:O.page-1;h(Object(C.a)(Object(C.a)({},O),{},{page:t}))}})]})},F=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{}),Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{exact:!0,path:"/",children:Object(c.jsx)(k,{})}),Object(c.jsx)(h.a,{path:"/cart",children:Object(c.jsx)(p,{})}),Object(c.jsx)(h.a,{path:"/favorite",children:Object(c.jsx)(g,{})})]})]})};s.a.render(Object(c.jsx)(O,{children:Object(c.jsx)(o.a,{children:Object(c.jsx)(F,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.14277777.chunk.js.map